2025-07-02 00:34:38,664 - __main__ - INFO - GUI Setup completed
2025-07-02 00:34:38,667 - __main__ - INFO - Initializing services...
2025-07-02 00:34:38,708 - config - INFO - Loaded configuration from config.ini
2025-07-02 00:34:38,709 - gate_service - WARNING - Hardware not available - running in SIMULATION mode
2025-07-02 00:34:38,713 - __main__ - INFO - Gate service imported successfully
2025-07-02 00:34:38,732 - __main__ - INFO - WARNING: USB scanner import failed: No module named 'termios'
2025-07-02 00:34:38,756 - __main__ - INFO - WARNING: Database service import failed: No module named 'couchdb'
2025-07-02 00:34:38,759 - root - WARNING - pygame not available, audio functionality disabled
2025-07-02 00:34:38,762 - __main__ - INFO - Audio service imported successfully
2025-07-02 00:34:38,766 - __main__ - INFO - Audio service is disabled or not available
2025-07-02 00:34:39,195 - camera_service - INFO - Driver camera disabled in configuration
2025-07-02 00:34:39,195 - camera_service - INFO - Initialized 1 cameras
2025-07-02 00:34:39,197 - __main__ - INFO - Camera service imported successfully
2025-07-02 00:34:39,199 - __main__ - INFO - Testing camera connectivity...
2025-07-02 00:34:39,199 - camera_service - INFO - Testing camera: exit
2025-07-02 00:34:39,201 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 00:34:39,399 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 00:34:39,400 - camera_service - INFO - Camera 'exit' test successful
2025-07-02 00:34:39,401 - __main__ - INFO - Camera 'exit': OK
2025-07-02 00:34:39,404 - __main__ - INFO - Scanner not available - manual input only
2025-07-02 00:34:39,408 - __main__ - INFO - Adding gate status listener...
2025-07-02 00:34:39,410 - __main__ - INFO - Gate status listener added
2025-07-02 00:34:39,415 - __main__ - INFO - Services initialization completed
2025-07-02 00:34:39,417 - __main__ - INFO - System ready - waiting for barcode input...
2025-07-02 00:34:39,420 - __main__ - INFO - Exit Gate GUI initialized
2025-07-02 00:34:39,423 - __main__ - INFO - Exit Gate GUI started
2025-07-02 00:34:39,612 - __main__ - INFO - Auto-listener started
2025-07-02 00:34:44,334 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 00:34:44,334 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 00:34:44,418 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 00:34:44,917 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 00:34:45,136 - __main__ - INFO - Camera preview updated
2025-07-02 00:34:58,397 - __main__ - INFO - Capturing image from driver camera...
2025-07-02 00:34:58,400 - __main__ - INFO - \u274c DRIVER camera capture failed: Camera 'driver' not found
2025-07-02 00:35:02,673 - __main__ - INFO - === TESTING ALL CAMERAS ===
2025-07-02 00:35:02,673 - camera_service - INFO - Testing camera: exit
2025-07-02 00:35:02,674 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 00:35:02,821 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 00:35:02,821 - camera_service - INFO - Camera 'exit' test successful
2025-07-02 00:35:02,822 - __main__ - INFO - \u2705 Camera 'EXIT': OK
2025-07-02 00:35:02,822 - __main__ - INFO - Camera test completed - 1/1 cameras working
2025-07-02 00:35:06,745 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 00:35:06,745 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 00:35:06,855 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 00:35:06,856 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 00:35:06,866 - __main__ - INFO - Camera preview updated
2025-07-02 00:36:23,300 - __main__ - INFO - Fullscreen mode: OFF
2025-07-02 00:36:34,707 - __main__ - INFO - Shutting down...
2025-07-02 00:36:34,708 - gate_service - INFO - Gate service cleanup completed
2025-07-02 00:36:34,708 - audio_service - INFO - Audio service cleanup completed
2025-07-02 00:36:34,708 - __main__ - INFO - Camera service shutdown
2025-07-02 00:38:25,870 - __main__ - INFO - GUI Setup completed
2025-07-02 00:38:25,874 - __main__ - INFO - Initializing services...
2025-07-02 00:38:25,909 - config - INFO - Loaded configuration from config.ini
2025-07-02 00:38:25,910 - gate_service - WARNING - Hardware not available - running in SIMULATION mode
2025-07-02 00:38:25,916 - __main__ - INFO - Gate service imported successfully
2025-07-02 00:38:25,929 - __main__ - INFO - WARNING: USB scanner import failed: No module named 'termios'
2025-07-02 00:38:25,938 - __main__ - INFO - WARNING: Database service import failed: No module named 'couchdb'
2025-07-02 00:38:25,941 - root - WARNING - pygame not available, audio functionality disabled
2025-07-02 00:38:25,949 - __main__ - INFO - Audio service imported successfully
2025-07-02 00:38:25,953 - __main__ - INFO - Audio service is disabled or not available
2025-07-02 00:38:26,362 - camera_service - INFO - Driver camera disabled in configuration
2025-07-02 00:38:26,362 - camera_service - INFO - Initialized 1 cameras
2025-07-02 00:38:26,367 - __main__ - INFO - Camera service imported successfully
2025-07-02 00:38:26,369 - __main__ - INFO - Testing camera connectivity...
2025-07-02 00:38:26,369 - camera_service - INFO - Testing camera: exit
2025-07-02 00:38:26,370 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 00:38:26,452 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 00:38:26,452 - camera_service - INFO - Camera 'exit' test successful
2025-07-02 00:38:26,454 - __main__ - INFO - Camera 'exit': OK
2025-07-02 00:38:26,458 - __main__ - INFO - Scanner not available - manual input only
2025-07-02 00:38:26,462 - __main__ - INFO - Adding gate status listener...
2025-07-02 00:38:26,464 - __main__ - INFO - Gate status listener added
2025-07-02 00:38:26,468 - __main__ - INFO - Services initialization completed
2025-07-02 00:38:26,472 - __main__ - INFO - System ready - waiting for barcode input...
2025-07-02 00:38:26,475 - __main__ - INFO - Exit Gate GUI initialized
2025-07-02 00:38:26,477 - __main__ - INFO - Exit Gate GUI started
2025-07-02 00:38:26,663 - __main__ - INFO - Auto-listener started
2025-07-02 00:38:28,918 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 00:38:28,918 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 00:38:29,074 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 00:38:29,242 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 00:38:29,296 - __main__ - INFO - Camera preview updated (480x268)
2025-07-02 00:40:48,524 - __main__ - INFO - GUI Setup completed
2025-07-02 00:40:48,530 - __main__ - INFO - Initializing services...
2025-07-02 00:40:48,574 - config - INFO - Loaded configuration from config.ini
2025-07-02 00:40:48,575 - gate_service - WARNING - Hardware not available - running in SIMULATION mode
2025-07-02 00:40:48,581 - __main__ - INFO - Gate service imported successfully
2025-07-02 00:40:48,599 - __main__ - INFO - WARNING: USB scanner import failed: No module named 'termios'
2025-07-02 00:40:48,614 - __main__ - INFO - WARNING: Database service import failed: No module named 'couchdb'
2025-07-02 00:40:48,616 - root - WARNING - pygame not available, audio functionality disabled
2025-07-02 00:40:48,624 - __main__ - INFO - Audio service imported successfully
2025-07-02 00:40:48,633 - __main__ - INFO - Audio service is disabled or not available
2025-07-02 00:40:49,054 - camera_service - INFO - Driver camera disabled in configuration
2025-07-02 00:40:49,054 - camera_service - INFO - Initialized 1 cameras
2025-07-02 00:40:49,058 - __main__ - INFO - Camera service imported successfully
2025-07-02 00:40:49,061 - __main__ - INFO - Testing camera connectivity...
2025-07-02 00:40:49,061 - camera_service - INFO - Testing camera: exit
2025-07-02 00:40:49,061 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 00:40:49,117 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 00:40:49,117 - camera_service - INFO - Camera 'exit' test successful
2025-07-02 00:40:49,123 - __main__ - INFO - Camera 'exit': OK
2025-07-02 00:40:49,127 - __main__ - INFO - Scanner not available - manual input only
2025-07-02 00:40:49,133 - __main__ - INFO - Adding gate status listener...
2025-07-02 00:40:49,137 - __main__ - INFO - Gate status listener added
2025-07-02 00:40:49,142 - __main__ - INFO - Services initialization completed
2025-07-02 00:40:49,148 - __main__ - INFO - System ready - waiting for barcode input...
2025-07-02 00:40:49,153 - __main__ - INFO - Exit Gate GUI initialized
2025-07-02 00:40:49,158 - __main__ - INFO - Exit Gate GUI started
2025-07-02 00:40:49,304 - __main__ - INFO - Auto-listener started
2025-07-02 00:40:52,973 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 00:40:52,973 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 00:40:53,036 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 00:40:53,188 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 00:40:53,240 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 01:03:04,009 - __main__ - INFO - GUI Setup completed
2025-07-02 01:03:04,015 - __main__ - INFO - Initializing services...
2025-07-02 01:03:04,056 - config - INFO - Loaded configuration from config.ini
2025-07-02 01:03:04,057 - gate_service - WARNING - Hardware not available - running in SIMULATION mode
2025-07-02 01:03:04,063 - __main__ - INFO - Gate service imported successfully
2025-07-02 01:03:04,080 - __main__ - INFO - WARNING: USB scanner import failed: No module named 'termios'
2025-07-02 01:03:04,696 - database_service - WARNING - Cannot connect to CouchDB server at http://localhost:5984: 'Server' object has no attribute 'info'
2025-07-02 01:03:04,696 - database_service - INFO - Falling back to mock database mode for testing
2025-07-02 01:03:04,696 - database_service - INFO - Initializing mock database...
2025-07-02 01:03:04,697 - database_service - INFO - Mock database initialized successfully
2025-07-02 01:03:04,703 - __main__ - INFO - Database service imported successfully
2025-07-02 01:03:04,708 - root - WARNING - pygame not available, audio functionality disabled
2025-07-02 01:03:04,717 - __main__ - INFO - Audio service imported successfully
2025-07-02 01:03:04,723 - __main__ - INFO - Audio service is disabled or not available
2025-07-02 01:03:04,734 - __main__ - INFO - WARNING: Camera service import failed: No module named 'PIL'
2025-07-02 01:03:04,741 - __main__ - INFO - Scanner not available - manual input only
2025-07-02 01:03:04,746 - __main__ - INFO - Adding gate status listener...
2025-07-02 01:03:04,750 - __main__ - INFO - Gate status listener added
2025-07-02 01:03:04,753 - __main__ - INFO - Services initialization completed
2025-07-02 01:03:04,760 - __main__ - INFO - System ready - waiting for barcode input...
2025-07-02 01:03:04,764 - __main__ - INFO - Exit Gate GUI initialized
2025-07-02 01:03:04,767 - __main__ - INFO - Exit Gate GUI started
2025-07-02 01:03:04,928 - __main__ - INFO - Auto-listener started
2025-07-02 01:03:56,379 - __main__ - INFO - Camera service not available
2025-07-02 01:04:03,111 - __main__ - INFO - Fullscreen mode: OFF
2025-07-02 01:07:23,912 - __main__ - INFO - GUI Setup completed
2025-07-02 01:07:23,915 - __main__ - INFO - Initializing services...
2025-07-02 01:07:23,948 - config - INFO - Loaded configuration from config.ini
2025-07-02 01:07:23,949 - gate_service - WARNING - Hardware not available - running in SIMULATION mode
2025-07-02 01:07:23,952 - __main__ - INFO - Gate service imported successfully
2025-07-02 01:07:23,967 - __main__ - INFO - WARNING: USB scanner import failed: No module named 'termios'
2025-07-02 01:07:24,019 - __main__ - INFO - WARNING: Database service import failed: No module named 'couchdb'
2025-07-02 01:07:24,022 - root - WARNING - pygame not available, audio functionality disabled
2025-07-02 01:07:24,025 - __main__ - INFO - Audio service imported successfully
2025-07-02 01:07:24,031 - __main__ - INFO - Audio service is disabled or not available
2025-07-02 01:07:24,482 - camera_service - INFO - Driver camera disabled in configuration
2025-07-02 01:07:24,482 - camera_service - INFO - Initialized 1 cameras
2025-07-02 01:07:24,485 - __main__ - INFO - Camera service imported successfully
2025-07-02 01:07:24,487 - __main__ - INFO - Testing camera connectivity...
2025-07-02 01:07:24,488 - camera_service - INFO - Testing camera: exit
2025-07-02 01:07:24,488 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:07:24,650 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:07:24,651 - camera_service - INFO - Camera 'exit' test successful
2025-07-02 01:07:24,654 - __main__ - INFO - Camera 'exit': OK
2025-07-02 01:07:24,657 - __main__ - INFO - Scanner not available - manual input only
2025-07-02 01:07:24,660 - __main__ - INFO - Adding gate status listener...
2025-07-02 01:07:24,664 - __main__ - INFO - Gate status listener added
2025-07-02 01:07:24,667 - __main__ - INFO - Services initialization completed
2025-07-02 01:07:24,670 - __main__ - INFO - System ready - waiting for barcode input...
2025-07-02 01:07:24,673 - __main__ - INFO - Exit Gate GUI initialized
2025-07-02 01:07:24,677 - __main__ - INFO - Exit Gate GUI started
2025-07-02 01:07:24,910 - __main__ - INFO - Auto-listener started
2025-07-02 01:07:29,611 - __main__ - INFO - Auto-processing barcode: 1751130042101_86TL6T
2025-07-02 01:07:29,612 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 01:07:29,612 - __main__ - INFO - Raw barcode: '1751130042101_86TL6T'
2025-07-02 01:07:29,612 - __main__ - INFO - Barcode length: 20
2025-07-02 01:07:29,613 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 01:07:29,614 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 01:07:29,614 - __main__ - INFO - Barcode: 1751130042101_86TL6T
2025-07-02 01:07:29,616 - __main__ - INFO - Debug mode: ENABLED
2025-07-02 01:07:29,616 - __main__ - INFO - Capturing exit images...
2025-07-02 01:07:29,617 - __main__ - INFO - No database service available
2025-07-02 01:07:29,621 - __main__ - INFO - DEBUG MODE: Opening gate despite no transaction found
2025-07-02 01:07:29,621 - __main__ - INFO - Gate service available - triggering open
2025-07-02 01:07:29,623 - __main__ - INFO - Gate status: OPENING
2025-07-02 01:07:29,623 - gate_service - INFO - SIMULATION: Gate opened
2025-07-02 01:07:29,623 - __main__ - INFO - Gate status: OPEN
2025-07-02 01:07:29,623 - gate_service - INFO - Gate opened successfully
2025-07-02 01:07:29,954 - __main__ - INFO - \u2705 GATE OPENED SUCCESSFULLY by barcode scan!
2025-07-02 01:07:29,956 - __main__ - INFO - Auto-capturing exit images for barcode: 1751130042101_86TL6T
2025-07-02 01:07:29,957 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:07:30,023 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:07:30,025 - __main__ - INFO - \u2705 Auto-capture successful for barcode: 1751130042101_86TL6T
2025-07-02 01:07:30,099 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 01:07:30,968 - __main__ - INFO - Gate status: CLOSING
2025-07-02 01:07:30,969 - gate_service - INFO - SIMULATION: Gate closed
2025-07-02 01:07:30,970 - __main__ - INFO - Gate status: CLOSED
2025-07-02 01:07:30,970 - gate_service - INFO - Gate closed successfully
2025-07-02 01:07:30,970 - __main__ - INFO - Auto-close gate: Success
2025-07-02 01:08:08,444 - __main__ - INFO - Auto-processing barcode: 1751130042101_86TL6T
2025-07-02 01:08:08,445 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 01:08:08,445 - __main__ - INFO - Raw barcode: '1751130042101_86TL6T'
2025-07-02 01:08:08,445 - __main__ - INFO - Barcode length: 20
2025-07-02 01:08:08,447 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 01:08:08,447 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 01:08:08,447 - __main__ - INFO - Barcode: 1751130042101_86TL6T
2025-07-02 01:08:08,448 - __main__ - INFO - Debug mode: ENABLED
2025-07-02 01:08:08,448 - __main__ - INFO - Capturing exit images...
2025-07-02 01:08:08,448 - __main__ - INFO - No database service available
2025-07-02 01:08:08,448 - __main__ - INFO - DEBUG MODE: Opening gate despite no transaction found
2025-07-02 01:08:08,450 - __main__ - INFO - Gate service available - triggering open
2025-07-02 01:08:08,450 - __main__ - INFO - Gate status: OPENING
2025-07-02 01:08:08,450 - gate_service - INFO - SIMULATION: Gate opened
2025-07-02 01:08:08,450 - __main__ - INFO - Gate status: OPEN
2025-07-02 01:08:08,450 - gate_service - INFO - Gate opened successfully
2025-07-02 01:08:08,452 - __main__ - INFO - \u2705 GATE OPENED SUCCESSFULLY by barcode scan!
2025-07-02 01:08:08,452 - __main__ - INFO - Auto-capturing exit images for barcode: 1751130042101_86TL6T
2025-07-02 01:08:08,452 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:08:08,508 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:08:08,509 - __main__ - INFO - \u2705 Auto-capture successful for barcode: 1751130042101_86TL6T
2025-07-02 01:08:08,520 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 01:08:09,455 - __main__ - INFO - Gate status: CLOSING
2025-07-02 01:08:09,455 - gate_service - INFO - SIMULATION: Gate closed
2025-07-02 01:08:09,456 - __main__ - INFO - Gate status: CLOSED
2025-07-02 01:08:09,456 - gate_service - INFO - Gate closed successfully
2025-07-02 01:08:09,456 - __main__ - INFO - Auto-close gate: Success
2025-07-02 01:19:32,804 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 01:19:32,811 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:19:32,936 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:19:32,940 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 01:19:32,964 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 01:19:34,903 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 01:19:34,903 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:19:35,002 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:19:35,002 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 01:19:35,014 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 01:19:35,966 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 01:19:35,966 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:19:36,043 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:19:36,044 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 01:19:36,056 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 01:19:36,731 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 01:19:36,731 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:19:36,802 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:19:36,803 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 01:19:36,814 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 01:19:37,053 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 01:19:37,053 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:19:37,127 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:19:37,128 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 01:19:37,138 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 01:19:37,300 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 01:19:37,300 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:19:37,366 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:19:37,366 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 01:19:37,382 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 01:19:37,692 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 01:19:37,692 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:19:37,767 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:19:37,782 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 01:19:37,795 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 01:19:37,863 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 01:19:37,864 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:19:37,930 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:19:37,932 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 01:19:37,943 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 01:19:38,014 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 01:19:38,014 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:19:38,227 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:19:38,228 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 01:19:38,239 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 01:19:38,515 - __main__ - INFO - Capturing image from exit camera...
2025-07-02 01:19:38,516 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:19:38,566 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:19:38,566 - __main__ - INFO - \u2705 EXIT camera capture successful
2025-07-02 01:19:38,578 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 01:19:56,439 - __main__ - INFO - Fullscreen mode: OFF
2025-07-02 01:19:58,830 - __main__ - INFO - Shutting down...
2025-07-02 01:19:58,831 - gate_service - INFO - Gate service cleanup completed
2025-07-02 01:19:58,832 - audio_service - INFO - Audio service cleanup completed
2025-07-02 01:19:58,834 - __main__ - INFO - Camera service shutdown
2025-07-02 01:20:07,165 - __main__ - INFO - GUI Setup completed
2025-07-02 01:20:07,168 - __main__ - INFO - Initializing services...
2025-07-02 01:20:07,207 - config - INFO - Loaded configuration from config.ini
2025-07-02 01:20:07,208 - gate_service - WARNING - Hardware not available - running in SIMULATION mode
2025-07-02 01:20:07,211 - __main__ - INFO - Gate service imported successfully
2025-07-02 01:20:07,227 - __main__ - INFO - WARNING: USB scanner import failed: No module named 'termios'
2025-07-02 01:20:07,970 - database_service - WARNING - Cannot connect to CouchDB server at http://localhost:5984: 'Server' object has no attribute 'info'
2025-07-02 01:20:07,970 - database_service - INFO - Falling back to mock database mode for testing
2025-07-02 01:20:07,970 - database_service - INFO - Initializing mock database...
2025-07-02 01:20:07,971 - database_service - INFO - Mock database initialized successfully
2025-07-02 01:20:07,976 - __main__ - INFO - Database service imported successfully
2025-07-02 01:20:07,980 - root - WARNING - pygame not available, audio functionality disabled
2025-07-02 01:20:07,987 - __main__ - INFO - Audio service imported successfully
2025-07-02 01:20:07,992 - __main__ - INFO - Audio service is disabled or not available
2025-07-02 01:20:08,055 - camera_service - INFO - Driver camera disabled in configuration
2025-07-02 01:20:08,055 - camera_service - INFO - Initialized 1 cameras
2025-07-02 01:20:08,059 - __main__ - INFO - Camera service imported successfully
2025-07-02 01:20:08,062 - __main__ - INFO - Testing camera connectivity...
2025-07-02 01:20:08,062 - camera_service - INFO - Testing camera: exit
2025-07-02 01:20:08,063 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 01:20:08,130 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 01:20:08,131 - camera_service - INFO - Camera 'exit' test successful
2025-07-02 01:20:08,136 - __main__ - INFO - Camera 'exit': OK
2025-07-02 01:20:08,138 - __main__ - INFO - Scanner not available - manual input only
2025-07-02 01:20:08,140 - __main__ - INFO - Adding gate status listener...
2025-07-02 01:20:08,142 - __main__ - INFO - Gate status listener added
2025-07-02 01:20:08,144 - __main__ - INFO - Services initialization completed
2025-07-02 01:20:08,148 - __main__ - INFO - System ready - waiting for barcode input...
2025-07-02 01:20:08,152 - __main__ - INFO - Exit Gate GUI initialized
2025-07-02 01:20:08,154 - __main__ - INFO - Exit Gate GUI started
2025-07-02 01:20:08,299 - __main__ - INFO - Auto-listener started
2025-07-02 01:20:33,026 - __main__ - INFO - === TESTING DATABASE FUNCTIONALITY ===
2025-07-02 01:20:33,027 - __main__ - INFO - Database connected: True
2025-07-02 01:20:33,027 - __main__ - INFO - Creating test transaction with barcode: GUITEST33
2025-07-02 01:20:33,027 - __main__ - INFO - Generated sample entry image data
2025-07-02 01:20:33,027 - database_service - INFO - Mock DB: Saved document transaction_GUITEST33
2025-07-02 01:20:33,027 - database_service - INFO - Mock DB: Added attachment entry.jpg to transaction_GUITEST33
2025-07-02 01:20:33,027 - database_service - INFO - Added image entry.jpg to transaction transaction_GUITEST33
2025-07-02 01:20:33,027 - database_service - INFO - Added entry image to test transaction
2025-07-02 01:20:33,028 - database_service - INFO - Created test transaction: transaction_GUITEST33 with barcode: GUITEST33
2025-07-02 01:20:33,390 - __main__ - INFO - \u2705 Test transaction created successfully
2025-07-02 01:20:33,392 - __main__ - INFO - Testing barcode search...
2025-07-02 01:20:33,392 - database_service - INFO - Searching for transaction with barcode: GUITEST33
2025-07-02 01:20:33,392 - database_service - INFO - Found transaction by primary ID: transaction_GUITEST33
2025-07-02 01:20:33,393 - __main__ - INFO - \u2705 Transaction found by barcode search
2025-07-02 01:20:33,395 - __main__ - INFO - Transaction ID: transaction_GUITEST33
2025-07-02 01:20:33,396 - __main__ - INFO - Transaction Type: parking_transaction
2025-07-02 01:20:33,397 - __main__ - INFO - Status: 0
2025-07-02 01:20:33,398 - __main__ - INFO - Testing exit processing...
2025-07-02 01:20:33,399 - __main__ - INFO - Generated sample exit image data
2025-07-02 01:20:33,399 - database_service - INFO - Processing vehicle exit for: GUITEST33
2025-07-02 01:20:33,399 - database_service - INFO - Searching for transaction with barcode: GUITEST33
2025-07-02 01:20:33,399 - database_service - INFO - Found transaction by primary ID: transaction_GUITEST33
2025-07-02 01:20:33,400 - database_service - INFO - Found transaction by barcode
2025-07-02 01:20:33,400 - database_service - INFO - Calculated parking fee: 1 hours x 5000 = 5000
2025-07-02 01:20:33,400 - database_service - INFO - Calculated fee: 5000 for 1 hours
2025-07-02 01:20:33,400 - database_service - INFO - Mock DB: Saved document transaction_GUITEST33
2025-07-02 01:20:33,400 - database_service - INFO - Transaction transaction_GUITEST33 marked as exited
2025-07-02 01:20:33,400 - database_service - INFO - Mock DB: Added attachment exit.jpg to transaction_GUITEST33
2025-07-02 01:20:33,400 - database_service - INFO - Added image exit.jpg to transaction transaction_GUITEST33
2025-07-02 01:20:33,400 - database_service - INFO - Added exit image to transaction
2025-07-02 01:20:33,400 - database_service - INFO - Vehicle exit processed successfully for: GUITEST33
2025-07-02 01:20:33,400 - __main__ - INFO - \u2705 Exit processing successful
2025-07-02 01:20:33,401 - __main__ - INFO - Fee calculated: 5000
2025-07-02 01:20:33,402 - __main__ - INFO - Duration: 1 hours
2025-07-02 01:20:33,403 - __main__ - INFO - Testing duplicate exit prevention...
2025-07-02 01:20:33,404 - database_service - INFO - Processing vehicle exit for: GUITEST33
2025-07-02 01:20:33,404 - database_service - INFO - Searching for transaction with barcode: GUITEST33
2025-07-02 01:20:33,404 - database_service - INFO - Performing full database scan (doc_count: 1)
2025-07-02 01:20:33,404 - database_service - INFO - No transaction found for barcode: GUITEST33
2025-07-02 01:20:33,404 - database_service - WARNING - No transaction found for: GUITEST33
2025-07-02 01:20:33,405 - __main__ - INFO - \u2705 Duplicate exit prevention working: No active transaction found for: GUITEST33
2025-07-02 01:20:33,406 - __main__ - INFO - Listing active transactions...
2025-07-02 01:20:33,407 - __main__ - INFO - No active transactions found
2025-07-02 01:20:33,409 - __main__ - INFO - === DATABASE TEST COMPLETED ===
2025-07-02 01:23:32,615 - __main__ - INFO - === TESTING DATABASE FUNCTIONALITY ===
2025-07-02 01:23:32,616 - __main__ - INFO - Database connected: True
2025-07-02 01:23:32,617 - __main__ - INFO - Creating test transaction with barcode: GUITEST212
2025-07-02 01:23:32,618 - __main__ - INFO - Generated sample entry image data
2025-07-02 01:23:32,621 - database_service - INFO - Mock DB: Saved document transaction_GUITEST212
2025-07-02 01:23:32,621 - database_service - INFO - Mock DB: Added attachment entry.jpg to transaction_GUITEST212
2025-07-02 01:23:32,621 - database_service - INFO - Added image entry.jpg to transaction transaction_GUITEST212
2025-07-02 01:23:32,621 - database_service - INFO - Added entry image to test transaction
2025-07-02 01:23:32,621 - database_service - INFO - Created test transaction: transaction_GUITEST212 with barcode: GUITEST212
2025-07-02 01:23:32,623 - __main__ - INFO - \u2705 Test transaction created successfully
2025-07-02 01:23:32,624 - __main__ - INFO - Testing barcode search...
2025-07-02 01:23:32,625 - database_service - INFO - Searching for transaction with barcode: GUITEST212
2025-07-02 01:23:32,625 - database_service - INFO - Found transaction by primary ID: transaction_GUITEST212
2025-07-02 01:23:32,625 - __main__ - INFO - \u2705 Transaction found by barcode search
2025-07-02 01:23:32,627 - __main__ - INFO - Transaction ID: transaction_GUITEST212
2025-07-02 01:23:32,628 - __main__ - INFO - Transaction Type: parking_transaction
2025-07-02 01:23:32,629 - __main__ - INFO - Status: 0
2025-07-02 01:23:32,629 - __main__ - INFO - Testing exit processing...
2025-07-02 01:23:32,630 - __main__ - INFO - Generated sample exit image data
2025-07-02 01:23:32,630 - database_service - INFO - Processing vehicle exit for: GUITEST212
2025-07-02 01:23:32,631 - database_service - INFO - Searching for transaction with barcode: GUITEST212
2025-07-02 01:23:32,631 - database_service - INFO - Found transaction by primary ID: transaction_GUITEST212
2025-07-02 01:23:32,631 - database_service - INFO - Found transaction by barcode
2025-07-02 01:23:32,631 - database_service - INFO - Calculated parking fee: 1 hours x 5000 = 5000
2025-07-02 01:23:32,631 - database_service - INFO - Calculated fee: 5000 for 1 hours
2025-07-02 01:23:32,631 - database_service - INFO - Mock DB: Saved document transaction_GUITEST212
2025-07-02 01:23:32,631 - database_service - INFO - Transaction transaction_GUITEST212 marked as exited
2025-07-02 01:23:32,631 - database_service - INFO - Mock DB: Added attachment exit.jpg to transaction_GUITEST212
2025-07-02 01:23:32,631 - database_service - INFO - Added image exit.jpg to transaction transaction_GUITEST212
2025-07-02 01:23:32,631 - database_service - INFO - Added exit image to transaction
2025-07-02 01:23:32,631 - database_service - INFO - Vehicle exit processed successfully for: GUITEST212
2025-07-02 01:23:32,632 - __main__ - INFO - \u2705 Exit processing successful
2025-07-02 01:23:32,633 - __main__ - INFO - Fee calculated: 5000
2025-07-02 01:23:32,634 - __main__ - INFO - Duration: 1 hours
2025-07-02 01:23:32,635 - __main__ - INFO - Testing duplicate exit prevention...
2025-07-02 01:23:32,635 - database_service - INFO - Processing vehicle exit for: GUITEST212
2025-07-02 01:23:32,635 - database_service - INFO - Searching for transaction with barcode: GUITEST212
2025-07-02 01:23:32,635 - database_service - INFO - Performing full database scan (doc_count: 2)
2025-07-02 01:23:32,636 - database_service - INFO - No transaction found for barcode: GUITEST212
2025-07-02 01:23:32,636 - database_service - WARNING - No transaction found for: GUITEST212
2025-07-02 01:23:32,638 - __main__ - INFO - \u2705 Duplicate exit prevention working: No active transaction found for: GUITEST212
2025-07-02 01:23:32,639 - __main__ - INFO - Listing active transactions...
2025-07-02 01:23:32,640 - __main__ - INFO - No active transactions found
2025-07-02 01:23:32,641 - __main__ - INFO - === DATABASE TEST COMPLETED ===
2025-07-02 02:29:13,592 - __main__ - INFO - Shutting down...
2025-07-02 02:29:13,598 - gate_service - INFO - Gate service cleanup completed
2025-07-02 02:29:13,599 - audio_service - INFO - Audio service cleanup completed
2025-07-02 02:29:13,600 - __main__ - INFO - Camera service shutdown
2025-07-02 02:29:29,988 - __main__ - INFO - GUI Setup completed
2025-07-02 02:29:29,992 - __main__ - INFO - Initializing services...
2025-07-02 02:29:30,032 - config - INFO - Loaded configuration from config.ini
2025-07-02 02:29:30,033 - gate_service - WARNING - Hardware not available - running in SIMULATION mode
2025-07-02 02:29:30,036 - __main__ - INFO - Gate service imported successfully
2025-07-02 02:29:30,050 - __main__ - INFO - WARNING: USB scanner import failed: No module named 'termios'
2025-07-02 02:29:32,688 - database_service - INFO - Connected to CouchDB server: Unknown (legacy method)
2025-07-02 02:29:32,691 - database_service - INFO - Connected to existing database: transactions
2025-07-02 02:29:32,694 - database_service - INFO - Database connection established
2025-07-02 02:29:32,698 - __main__ - INFO - Database service imported successfully
2025-07-02 02:29:32,701 - root - WARNING - pygame not available, audio functionality disabled
2025-07-02 02:29:32,703 - __main__ - INFO - Audio service imported successfully
2025-07-02 02:29:32,706 - __main__ - INFO - Audio service is disabled or not available
2025-07-02 02:29:32,750 - camera_service - INFO - Driver camera disabled in configuration
2025-07-02 02:29:32,750 - camera_service - INFO - Initialized 1 cameras
2025-07-02 02:29:32,753 - __main__ - INFO - Camera service imported successfully
2025-07-02 02:29:32,756 - __main__ - INFO - Testing camera connectivity...
2025-07-02 02:29:32,756 - camera_service - INFO - Testing camera: exit
2025-07-02 02:29:32,756 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:29:32,836 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:29:32,836 - camera_service - INFO - Camera 'exit' test successful
2025-07-02 02:29:32,839 - __main__ - INFO - Camera 'exit': OK
2025-07-02 02:29:32,843 - __main__ - INFO - Scanner not available - manual input only
2025-07-02 02:29:32,845 - __main__ - INFO - Adding gate status listener...
2025-07-02 02:29:32,848 - __main__ - INFO - Gate status listener added
2025-07-02 02:29:32,852 - __main__ - INFO - Services initialization completed
2025-07-02 02:29:32,861 - __main__ - INFO - System ready - waiting for barcode input...
2025-07-02 02:29:32,865 - __main__ - INFO - Exit Gate GUI initialized
2025-07-02 02:29:32,869 - __main__ - INFO - Exit Gate GUI started
2025-07-02 02:29:33,042 - __main__ - INFO - Auto-listener started
2025-07-02 02:29:54,564 - __main__ - INFO - Auto-processing barcode: 1751153583759_E2
2025-07-02 02:29:54,565 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 02:29:54,565 - __main__ - INFO - Raw barcode: '1751153583759_E2'
2025-07-02 02:29:54,566 - __main__ - INFO - Barcode length: 16
2025-07-02 02:29:54,566 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 02:29:54,567 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 02:29:54,567 - __main__ - INFO - Barcode: 1751153583759_E2
2025-07-02 02:29:54,568 - __main__ - INFO - Debug mode: ENABLED
2025-07-02 02:29:54,568 - __main__ - INFO - Capturing exit images...
2025-07-02 02:29:54,569 - database_service - INFO - Processing vehicle exit for: 1751153583759_E2
2025-07-02 02:29:54,572 - database_service - INFO - Searching for transaction with barcode: 1751153583759_E2
2025-07-02 02:29:54,593 - database_service - INFO - Performing full database scan (doc_count: 52)
2025-07-02 02:29:54,697 - database_service - INFO - No transaction found for barcode: 1751153583759_E2
2025-07-02 02:29:54,703 - database_service - WARNING - No transaction found for: 1751153583759_E2
2025-07-02 02:29:54,917 - __main__ - INFO - \u274c No transaction found in database: No active transaction found for: 1751153583759_E2
2025-07-02 02:29:54,919 - __main__ - INFO - DEBUG MODE: Opening gate despite no transaction found
2025-07-02 02:29:54,920 - __main__ - INFO - Gate service available - triggering open
2025-07-02 02:29:54,921 - __main__ - INFO - Gate status: OPENING
2025-07-02 02:29:54,921 - gate_service - INFO - SIMULATION: Gate opened
2025-07-02 02:29:54,922 - __main__ - INFO - Gate status: OPEN
2025-07-02 02:29:54,922 - gate_service - INFO - Gate opened successfully
2025-07-02 02:29:54,937 - __main__ - INFO - \u2705 GATE OPENED SUCCESSFULLY by barcode scan!
2025-07-02 02:29:54,938 - __main__ - INFO - Auto-capturing exit images for barcode: 1751153583759_E2
2025-07-02 02:29:54,938 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:29:54,995 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:29:54,997 - __main__ - INFO - \u2705 Auto-capture successful for barcode: 1751153583759_E2
2025-07-02 02:29:55,000 - __main__ - INFO - Stored combined exit image data
2025-07-02 02:29:55,000 - database_service - INFO - Searching for transaction with barcode: 1751153583759_E2
2025-07-02 02:29:55,019 - database_service - INFO - Performing full database scan (doc_count: 52)
2025-07-02 02:29:55,119 - database_service - INFO - No transaction found for barcode: 1751153583759_E2
2025-07-02 02:29:55,120 - __main__ - INFO - Cannot save images - transaction not found for barcode: 1751153583759_E2
2025-07-02 02:29:55,187 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 02:29:55,951 - __main__ - INFO - Gate status: CLOSING
2025-07-02 02:29:55,951 - gate_service - INFO - SIMULATION: Gate closed
2025-07-02 02:29:55,951 - __main__ - INFO - Gate status: CLOSED
2025-07-02 02:29:55,951 - gate_service - INFO - Gate closed successfully
2025-07-02 02:29:55,952 - __main__ - INFO - Auto-close gate: Success
2025-07-02 02:30:16,372 - __main__ - INFO - DEBUG MODE: DISABLED
2025-07-02 02:30:20,411 - __main__ - INFO - Auto-processing barcode: 1751153583759_E2
2025-07-02 02:30:20,412 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 02:30:20,412 - __main__ - INFO - Raw barcode: '1751153583759_E2'
2025-07-02 02:30:20,412 - __main__ - INFO - Barcode length: 16
2025-07-02 02:30:20,413 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 02:30:20,413 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 02:30:20,413 - __main__ - INFO - Barcode: 1751153583759_E2
2025-07-02 02:30:20,413 - __main__ - INFO - Debug mode: DISABLED
2025-07-02 02:30:20,415 - __main__ - INFO - Capturing exit images...
2025-07-02 02:30:20,415 - database_service - INFO - Processing vehicle exit for: 1751153583759_E2
2025-07-02 02:30:20,418 - database_service - INFO - Searching for transaction with barcode: 1751153583759_E2
2025-07-02 02:30:20,437 - database_service - INFO - Performing full database scan (doc_count: 52)
2025-07-02 02:30:20,608 - database_service - INFO - No transaction found for barcode: 1751153583759_E2
2025-07-02 02:30:20,615 - database_service - WARNING - No transaction found for: 1751153583759_E2
2025-07-02 02:30:20,616 - __main__ - INFO - \u274c No transaction found in database: No active transaction found for: 1751153583759_E2
2025-07-02 02:30:20,617 - __main__ - INFO - ACCESS DENIED: No transaction found and debug mode disabled
2025-07-02 02:30:20,618 - __main__ - INFO - Gate NOT opened - access denied
2025-07-02 02:30:20,618 - __main__ - INFO - Auto-capturing exit images for barcode: 1751153583759_E2
2025-07-02 02:30:20,619 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:30:20,681 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:30:20,682 - __main__ - INFO - \u2705 Auto-capture successful for barcode: 1751153583759_E2
2025-07-02 02:30:20,683 - __main__ - INFO - Stored combined exit image data
2025-07-02 02:30:20,683 - database_service - INFO - Searching for transaction with barcode: 1751153583759_E2
2025-07-02 02:30:20,705 - database_service - INFO - Performing full database scan (doc_count: 52)
2025-07-02 02:30:20,835 - database_service - INFO - No transaction found for barcode: 1751153583759_E2
2025-07-02 02:30:20,836 - __main__ - INFO - Cannot save images - transaction not found for barcode: 1751153583759_E2
2025-07-02 02:30:20,849 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 02:30:52,525 - __main__ - INFO - Auto-processing barcode: IMGTEST971
2025-07-02 02:30:52,526 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 02:30:52,526 - __main__ - INFO - Raw barcode: 'IMGTEST971'
2025-07-02 02:30:52,526 - __main__ - INFO - Barcode length: 10
2025-07-02 02:30:52,528 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 02:30:52,528 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 02:30:52,528 - __main__ - INFO - Barcode: IMGTEST971
2025-07-02 02:30:52,529 - __main__ - INFO - Debug mode: DISABLED
2025-07-02 02:30:52,529 - __main__ - INFO - Capturing exit images...
2025-07-02 02:30:52,530 - database_service - INFO - Processing vehicle exit for: IMGTEST971
2025-07-02 02:30:52,533 - database_service - INFO - Searching for transaction with barcode: IMGTEST971
2025-07-02 02:30:52,555 - database_service - INFO - Performing full database scan (doc_count: 52)
2025-07-02 02:30:52,669 - database_service - INFO - No transaction found for barcode: IMGTEST971
2025-07-02 02:30:52,681 - database_service - WARNING - No transaction found for: IMGTEST971
2025-07-02 02:30:52,681 - __main__ - INFO - \u274c No transaction found in database: No active transaction found for: IMGTEST971
2025-07-02 02:30:52,682 - __main__ - INFO - ACCESS DENIED: No transaction found and debug mode disabled
2025-07-02 02:30:52,682 - __main__ - INFO - Gate NOT opened - access denied
2025-07-02 02:30:52,683 - __main__ - INFO - Auto-capturing exit images for barcode: IMGTEST971
2025-07-02 02:30:52,683 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:30:52,745 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:30:52,746 - __main__ - INFO - \u2705 Auto-capture successful for barcode: IMGTEST971
2025-07-02 02:30:52,747 - __main__ - INFO - Stored combined exit image data
2025-07-02 02:30:52,747 - database_service - INFO - Searching for transaction with barcode: IMGTEST971
2025-07-02 02:30:52,767 - database_service - INFO - Performing full database scan (doc_count: 52)
2025-07-02 02:30:52,876 - database_service - INFO - No transaction found for barcode: IMGTEST971
2025-07-02 02:30:52,876 - __main__ - INFO - Cannot save images - transaction not found for barcode: IMGTEST971
2025-07-02 02:30:52,888 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 02:31:09,213 - __main__ - INFO - Auto-processing barcode: TRANSACTION_IMGTEST971
2025-07-02 02:31:09,214 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 02:31:09,216 - __main__ - INFO - Raw barcode: 'TRANSACTION_IMGTEST971'
2025-07-02 02:31:09,216 - __main__ - INFO - Barcode length: 22
2025-07-02 02:31:09,216 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 02:31:09,217 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 02:31:09,217 - __main__ - INFO - Barcode: TRANSACTION_IMGTEST971
2025-07-02 02:31:09,217 - __main__ - INFO - Debug mode: DISABLED
2025-07-02 02:31:09,218 - __main__ - INFO - Capturing exit images...
2025-07-02 02:31:09,218 - database_service - INFO - Processing vehicle exit for: TRANSACTION_IMGTEST971
2025-07-02 02:31:09,223 - database_service - INFO - Searching for transaction with barcode: TRANSACTION_IMGTEST971
2025-07-02 02:31:09,246 - database_service - INFO - Performing full database scan (doc_count: 52)
2025-07-02 02:31:09,361 - database_service - INFO - No transaction found for barcode: TRANSACTION_IMGTEST971
2025-07-02 02:31:09,366 - database_service - WARNING - No transaction found for: TRANSACTION_IMGTEST971
2025-07-02 02:31:09,367 - __main__ - INFO - \u274c No transaction found in database: No active transaction found for: TRANSACTION_IMGTEST971
2025-07-02 02:31:09,367 - __main__ - INFO - ACCESS DENIED: No transaction found and debug mode disabled
2025-07-02 02:31:09,368 - __main__ - INFO - Gate NOT opened - access denied
2025-07-02 02:31:09,368 - __main__ - INFO - Auto-capturing exit images for barcode: TRANSACTION_IMGTEST971
2025-07-02 02:31:09,368 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:31:09,426 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:31:09,427 - __main__ - INFO - \u2705 Auto-capture successful for barcode: TRANSACTION_IMGTEST971
2025-07-02 02:31:09,428 - __main__ - INFO - Stored combined exit image data
2025-07-02 02:31:09,428 - database_service - INFO - Searching for transaction with barcode: TRANSACTION_IMGTEST971
2025-07-02 02:31:09,450 - database_service - INFO - Performing full database scan (doc_count: 52)
2025-07-02 02:31:09,571 - database_service - INFO - No transaction found for barcode: TRANSACTION_IMGTEST971
2025-07-02 02:31:09,572 - __main__ - INFO - Cannot save images - transaction not found for barcode: TRANSACTION_IMGTEST971
2025-07-02 02:31:09,586 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 02:36:33,826 - __main__ - INFO - Shutting down...
2025-07-02 02:36:33,826 - gate_service - INFO - Gate service cleanup completed
2025-07-02 02:36:33,826 - audio_service - INFO - Audio service cleanup completed
2025-07-02 02:36:33,827 - __main__ - INFO - Camera service shutdown
2025-07-02 02:39:02,476 - __main__ - INFO - GUI Setup completed
2025-07-02 02:39:02,478 - __main__ - INFO - Initializing services...
2025-07-02 02:39:02,515 - config - INFO - Loaded configuration from config.ini
2025-07-02 02:39:02,515 - gate_service - WARNING - Hardware not available - running in SIMULATION mode
2025-07-02 02:39:02,517 - __main__ - INFO - Gate service imported successfully
2025-07-02 02:39:02,530 - __main__ - INFO - WARNING: USB scanner import failed: No module named 'termios'
2025-07-02 02:39:04,977 - database_service - INFO - Connected to CouchDB server: Unknown (legacy method)
2025-07-02 02:39:04,980 - database_service - INFO - Connected to existing database: transactions
2025-07-02 02:39:04,983 - database_service - INFO - Database connection established
2025-07-02 02:39:04,987 - __main__ - INFO - Database service imported successfully
2025-07-02 02:39:04,989 - root - WARNING - pygame not available, audio functionality disabled
2025-07-02 02:39:04,993 - __main__ - INFO - Audio service imported successfully
2025-07-02 02:39:04,997 - __main__ - INFO - Audio service is disabled or not available
2025-07-02 02:39:05,033 - camera_service - INFO - Driver camera disabled in configuration
2025-07-02 02:39:05,033 - camera_service - INFO - Initialized 1 cameras
2025-07-02 02:39:05,035 - __main__ - INFO - Camera service imported successfully
2025-07-02 02:39:05,039 - __main__ - INFO - Testing camera connectivity...
2025-07-02 02:39:05,040 - camera_service - INFO - Testing camera: exit
2025-07-02 02:39:05,040 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:39:05,127 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:39:05,127 - camera_service - INFO - Camera 'exit' test successful
2025-07-02 02:39:05,130 - __main__ - INFO - Camera 'exit': OK
2025-07-02 02:39:05,132 - __main__ - INFO - Scanner not available - manual input only
2025-07-02 02:39:05,135 - __main__ - INFO - Adding gate status listener...
2025-07-02 02:39:05,140 - __main__ - INFO - Gate status listener added
2025-07-02 02:39:05,144 - __main__ - INFO - Services initialization completed
2025-07-02 02:39:05,147 - __main__ - INFO - System ready - waiting for barcode input...
2025-07-02 02:39:05,150 - __main__ - INFO - Exit Gate GUI initialized
2025-07-02 02:39:05,154 - __main__ - INFO - Exit Gate GUI started
2025-07-02 02:39:05,289 - __main__ - INFO - Auto-listener started
2025-07-02 02:39:11,551 - __main__ - INFO - Auto-processing barcode: 1751398704465926
2025-07-02 02:39:11,552 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 02:39:11,552 - __main__ - INFO - Raw barcode: '1751398704465926'
2025-07-02 02:39:11,552 - __main__ - INFO - Barcode length: 16
2025-07-02 02:39:11,553 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 02:39:11,554 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 02:39:11,554 - __main__ - INFO - Barcode: 1751398704465926
2025-07-02 02:39:11,555 - __main__ - INFO - Debug mode: ENABLED
2025-07-02 02:39:11,555 - __main__ - INFO - Capturing exit images...
2025-07-02 02:39:11,555 - database_service - INFO - Processing vehicle exit for: 1751398704465926
2025-07-02 02:39:11,558 - database_service - INFO - Searching for transaction with barcode: 1751398704465926
2025-07-02 02:39:11,582 - database_service - INFO - Performing full database scan (doc_count: 53)
2025-07-02 02:39:11,704 - database_service - INFO - No transaction found for barcode: 1751398704465926
2025-07-02 02:39:11,710 - database_service - WARNING - No transaction found for: 1751398704465926
2025-07-02 02:39:11,912 - __main__ - INFO - \u274c No transaction found in database: No active transaction found for: 1751398704465926
2025-07-02 02:39:11,914 - __main__ - INFO - DEBUG MODE: Opening gate despite no transaction found
2025-07-02 02:39:11,914 - __main__ - INFO - Gate service available - triggering open
2025-07-02 02:39:11,915 - __main__ - INFO - Gate status: OPENING
2025-07-02 02:39:11,915 - gate_service - INFO - SIMULATION: Gate opened
2025-07-02 02:39:11,915 - __main__ - INFO - Gate status: OPEN
2025-07-02 02:39:11,915 - gate_service - INFO - Gate opened successfully
2025-07-02 02:39:11,933 - __main__ - INFO - \u2705 GATE OPENED SUCCESSFULLY by barcode scan!
2025-07-02 02:39:11,934 - __main__ - INFO - Auto-capturing exit images for barcode: 1751398704465926
2025-07-02 02:39:11,934 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:39:12,008 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:39:12,009 - __main__ - INFO - \u2705 Auto-capture successful for barcode: 1751398704465926
2025-07-02 02:39:12,010 - __main__ - INFO - Stored combined exit image data
2025-07-02 02:39:12,010 - database_service - INFO - Searching for transaction with barcode: 1751398704465926
2025-07-02 02:39:12,032 - database_service - INFO - Performing full database scan (doc_count: 53)
2025-07-02 02:39:12,150 - database_service - INFO - No transaction found for barcode: 1751398704465926
2025-07-02 02:39:12,151 - __main__ - INFO - Cannot save images - transaction not found for barcode: 1751398704465926
2025-07-02 02:39:12,206 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 02:39:12,940 - __main__ - INFO - Gate status: CLOSING
2025-07-02 02:39:12,940 - gate_service - INFO - SIMULATION: Gate closed
2025-07-02 02:39:12,941 - __main__ - INFO - Gate status: CLOSED
2025-07-02 02:39:12,941 - gate_service - INFO - Gate closed successfully
2025-07-02 02:39:12,941 - __main__ - INFO - Auto-close gate: Success
2025-07-02 02:41:34,330 - __main__ - INFO - Auto-processing barcode: TRANSACT
2025-07-02 02:41:34,331 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 02:41:34,331 - __main__ - INFO - Raw barcode: 'TRANSACT'
2025-07-02 02:41:34,331 - __main__ - INFO - Barcode length: 8
2025-07-02 02:41:34,332 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 02:41:34,332 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 02:41:34,333 - __main__ - INFO - Barcode: TRANSACT
2025-07-02 02:41:34,333 - __main__ - INFO - Debug mode: ENABLED
2025-07-02 02:41:34,333 - __main__ - INFO - Capturing exit images...
2025-07-02 02:41:34,334 - database_service - INFO - Processing vehicle exit for: TRANSACT
2025-07-02 02:41:34,337 - database_service - INFO - Searching for transaction with barcode: TRANSACT
2025-07-02 02:41:34,370 - database_service - INFO - Performing full database scan (doc_count: 55)
2025-07-02 02:41:34,520 - database_service - INFO - No transaction found for barcode: TRANSACT
2025-07-02 02:41:34,530 - database_service - WARNING - No transaction found for: TRANSACT
2025-07-02 02:41:34,530 - __main__ - INFO - \u274c No transaction found in database: No active transaction found for: TRANSACT
2025-07-02 02:41:34,531 - __main__ - INFO - DEBUG MODE: Opening gate despite no transaction found
2025-07-02 02:41:34,531 - __main__ - INFO - Gate service available - triggering open
2025-07-02 02:41:34,533 - __main__ - INFO - Gate status: OPENING
2025-07-02 02:41:34,533 - gate_service - INFO - SIMULATION: Gate opened
2025-07-02 02:41:34,534 - __main__ - INFO - Gate status: OPEN
2025-07-02 02:41:34,534 - gate_service - INFO - Gate opened successfully
2025-07-02 02:41:34,534 - __main__ - INFO - \u2705 GATE OPENED SUCCESSFULLY by barcode scan!
2025-07-02 02:41:34,535 - __main__ - INFO - Auto-capturing exit images for barcode: TRANSACT
2025-07-02 02:41:34,535 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:41:34,715 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:41:34,716 - __main__ - INFO - \u2705 Auto-capture successful for barcode: TRANSACT
2025-07-02 02:41:34,718 - __main__ - INFO - Stored combined exit image data
2025-07-02 02:41:34,719 - database_service - INFO - Searching for transaction with barcode: TRANSACT
2025-07-02 02:41:34,754 - database_service - INFO - Performing full database scan (doc_count: 55)
2025-07-02 02:41:34,912 - database_service - INFO - No transaction found for barcode: TRANSACT
2025-07-02 02:41:34,912 - __main__ - INFO - Cannot save images - transaction not found for barcode: TRANSACT
2025-07-02 02:41:34,921 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 02:41:35,545 - __main__ - INFO - Gate status: CLOSING
2025-07-02 02:41:35,545 - gate_service - INFO - SIMULATION: Gate closed
2025-07-02 02:41:35,545 - __main__ - INFO - Gate status: CLOSED
2025-07-02 02:41:35,545 - gate_service - INFO - Gate closed successfully
2025-07-02 02:41:35,545 - __main__ - INFO - Auto-close gate: Success
2025-07-02 02:41:35,871 - __main__ - INFO - Auto-processing barcode: ION_1751398784217520
2025-07-02 02:41:35,871 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 02:41:35,872 - __main__ - INFO - Raw barcode: 'ION_1751398784217520'
2025-07-02 02:41:35,872 - __main__ - INFO - Barcode length: 20
2025-07-02 02:41:35,873 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 02:41:35,873 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 02:41:35,873 - __main__ - INFO - Barcode: ION_1751398784217520
2025-07-02 02:41:35,874 - __main__ - INFO - Debug mode: ENABLED
2025-07-02 02:41:35,874 - __main__ - INFO - Capturing exit images...
2025-07-02 02:41:35,874 - database_service - INFO - Processing vehicle exit for: ION_1751398784217520
2025-07-02 02:41:35,877 - database_service - INFO - Searching for transaction with barcode: ION_1751398784217520
2025-07-02 02:41:35,911 - database_service - INFO - Performing full database scan (doc_count: 55)
2025-07-02 02:41:36,039 - database_service - INFO - No transaction found for barcode: ION_1751398784217520
2025-07-02 02:41:36,052 - database_service - WARNING - No transaction found for: ION_1751398784217520
2025-07-02 02:41:36,052 - __main__ - INFO - \u274c No transaction found in database: No active transaction found for: ION_1751398784217520
2025-07-02 02:41:36,053 - __main__ - INFO - DEBUG MODE: Opening gate despite no transaction found
2025-07-02 02:41:36,054 - __main__ - INFO - Gate service available - triggering open
2025-07-02 02:41:36,054 - __main__ - INFO - Gate status: OPENING
2025-07-02 02:41:36,054 - gate_service - INFO - SIMULATION: Gate opened
2025-07-02 02:41:36,055 - __main__ - INFO - Gate status: OPEN
2025-07-02 02:41:36,055 - gate_service - INFO - Gate opened successfully
2025-07-02 02:41:36,055 - __main__ - INFO - \u2705 GATE OPENED SUCCESSFULLY by barcode scan!
2025-07-02 02:41:36,056 - __main__ - INFO - Auto-capturing exit images for barcode: ION_1751398784217520
2025-07-02 02:41:36,056 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:41:36,127 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:41:36,128 - __main__ - INFO - \u2705 Auto-capture successful for barcode: ION_1751398784217520
2025-07-02 02:41:36,128 - __main__ - INFO - Stored combined exit image data
2025-07-02 02:41:36,128 - database_service - INFO - Searching for transaction with barcode: ION_1751398784217520
2025-07-02 02:41:36,156 - database_service - INFO - Performing full database scan (doc_count: 55)
2025-07-02 02:41:36,281 - database_service - INFO - No transaction found for barcode: ION_1751398784217520
2025-07-02 02:41:36,282 - __main__ - INFO - Cannot save images - transaction not found for barcode: ION_1751398784217520
2025-07-02 02:41:36,290 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 02:41:37,064 - __main__ - INFO - Gate status: CLOSING
2025-07-02 02:41:37,065 - gate_service - INFO - SIMULATION: Gate closed
2025-07-02 02:41:37,065 - __main__ - INFO - Gate status: CLOSED
2025-07-02 02:41:37,065 - gate_service - INFO - Gate closed successfully
2025-07-02 02:41:37,065 - __main__ - INFO - Auto-close gate: Success
2025-07-02 02:41:40,676 - __main__ - INFO - DEBUG MODE: DISABLED
2025-07-02 02:41:43,205 - __main__ - INFO - Auto-processing barcode: 1751398784217520
2025-07-02 02:41:43,206 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 02:41:43,207 - __main__ - INFO - Raw barcode: '1751398784217520'
2025-07-02 02:41:43,207 - __main__ - INFO - Barcode length: 16
2025-07-02 02:41:43,208 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 02:41:43,209 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 02:41:43,209 - __main__ - INFO - Barcode: 1751398784217520
2025-07-02 02:41:43,209 - __main__ - INFO - Debug mode: DISABLED
2025-07-02 02:41:43,210 - __main__ - INFO - Capturing exit images...
2025-07-02 02:41:43,210 - database_service - INFO - Processing vehicle exit for: 1751398784217520
2025-07-02 02:41:43,215 - database_service - INFO - Searching for transaction with barcode: 1751398784217520
2025-07-02 02:41:43,234 - database_service - INFO - Found transaction by primary ID: transaction_1751398784217520
2025-07-02 02:41:43,234 - database_service - INFO - Found transaction by barcode
2025-07-02 02:41:43,235 - database_service - ERROR - Error calculating parking fee: can't subtract offset-naive and offset-aware datetimes
2025-07-02 02:41:43,235 - database_service - INFO - Calculated fee: 0 for 0 hours
2025-07-02 02:41:43,252 - database_service - INFO - Transaction transaction_1751398784217520 marked as exited
2025-07-02 02:41:43,284 - database_service - INFO - Added image exit.jpg to transaction transaction_1751398784217520
2025-07-02 02:41:43,286 - database_service - INFO - Added exit image to transaction
2025-07-02 02:41:43,286 - database_service - INFO - Vehicle exit processed successfully for: 1751398784217520
2025-07-02 02:41:43,286 - __main__ - INFO - \u2705 Valid transaction found in database
2025-07-02 02:41:43,287 - __main__ - INFO - Opening gate - Valid transaction
2025-07-02 02:41:43,287 - __main__ - INFO - Gate service available - triggering open
2025-07-02 02:41:43,287 - __main__ - INFO - Gate status: OPENING
2025-07-02 02:41:43,287 - gate_service - INFO - SIMULATION: Gate opened
2025-07-02 02:41:43,288 - __main__ - INFO - Gate status: OPEN
2025-07-02 02:41:43,288 - gate_service - INFO - Gate opened successfully
2025-07-02 02:41:43,288 - __main__ - INFO - \u2705 GATE OPENED SUCCESSFULLY by barcode scan!
2025-07-02 02:41:43,288 - __main__ - INFO - Auto-capturing exit images for barcode: 1751398784217520
2025-07-02 02:41:43,289 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:41:43,379 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:41:43,380 - __main__ - INFO - \u2705 Auto-capture successful for barcode: 1751398784217520
2025-07-02 02:41:43,381 - __main__ - INFO - Stored combined exit image data
2025-07-02 02:41:43,382 - database_service - INFO - Searching for transaction with barcode: 1751398784217520
2025-07-02 02:41:43,391 - database_service - INFO - Found transaction by primary ID: transaction_1751398784217520
2025-07-02 02:41:43,392 - __main__ - INFO - Saving exit images to transaction: transaction_1751398784217520
2025-07-02 02:41:43,414 - database_service - INFO - Added image exit.jpg to transaction transaction_1751398784217520
2025-07-02 02:41:43,414 - __main__ - INFO - \u2705 Saved exit image as attachment (combined)
2025-07-02 02:41:43,415 - __main__ - INFO - Successfully saved 1 exit image(s) as attachment(s)
2025-07-02 02:41:43,427 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 02:41:44,292 - __main__ - INFO - Gate status: CLOSING
2025-07-02 02:41:44,293 - gate_service - INFO - SIMULATION: Gate closed
2025-07-02 02:41:44,293 - __main__ - INFO - Gate status: CLOSED
2025-07-02 02:41:44,293 - gate_service - INFO - Gate closed successfully
2025-07-02 02:41:44,293 - __main__ - INFO - Auto-close gate: Success
2025-07-02 02:42:23,921 - __main__ - INFO - Auto-processing barcode: 1751398784217520
2025-07-02 02:42:23,922 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 02:42:23,922 - __main__ - INFO - Raw barcode: '1751398784217520'
2025-07-02 02:42:23,923 - __main__ - INFO - Barcode length: 16
2025-07-02 02:42:23,923 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 02:42:23,923 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 02:42:23,923 - __main__ - INFO - Barcode: 1751398784217520
2025-07-02 02:42:23,924 - __main__ - INFO - Debug mode: DISABLED
2025-07-02 02:42:23,924 - __main__ - INFO - Capturing exit images...
2025-07-02 02:42:23,924 - database_service - INFO - Processing vehicle exit for: 1751398784217520
2025-07-02 02:42:23,928 - database_service - INFO - Searching for transaction with barcode: 1751398784217520
2025-07-02 02:42:23,935 - database_service - INFO - Found transaction by primary ID: transaction_1751398784217520
2025-07-02 02:42:23,935 - database_service - INFO - Found transaction by barcode
2025-07-02 02:42:23,935 - database_service - WARNING - Vehicle already exited at: 2025-07-02T02:41:43.234985
2025-07-02 02:42:23,935 - __main__ - INFO - \u274c No transaction found in database: Vehicle already exited at: 2025-07-02T02:41:43.234985
2025-07-02 02:42:23,935 - __main__ - INFO - ACCESS DENIED: No transaction found and debug mode disabled
2025-07-02 02:42:23,937 - __main__ - INFO - Gate NOT opened - access denied
2025-07-02 02:42:23,937 - __main__ - INFO - Auto-capturing exit images for barcode: 1751398784217520
2025-07-02 02:42:23,937 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:42:24,014 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:42:24,015 - __main__ - INFO - \u2705 Auto-capture successful for barcode: 1751398784217520
2025-07-02 02:42:24,015 - __main__ - INFO - Stored combined exit image data
2025-07-02 02:42:24,016 - database_service - INFO - Searching for transaction with barcode: 1751398784217520
2025-07-02 02:42:24,023 - database_service - INFO - Found transaction by primary ID: transaction_1751398784217520
2025-07-02 02:42:24,023 - __main__ - INFO - Saving exit images to transaction: transaction_1751398784217520
2025-07-02 02:42:24,046 - database_service - INFO - Added image exit.jpg to transaction transaction_1751398784217520
2025-07-02 02:42:24,047 - __main__ - INFO - \u2705 Saved exit image as attachment (combined)
2025-07-02 02:42:24,048 - __main__ - INFO - Successfully saved 1 exit image(s) as attachment(s)
2025-07-02 02:42:24,063 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 02:43:23,071 - __main__ - INFO - Auto-processing barcode: 1751398982618699
2025-07-02 02:43:23,072 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 02:43:23,072 - __main__ - INFO - Raw barcode: '1751398982618699'
2025-07-02 02:43:23,072 - __main__ - INFO - Barcode length: 16
2025-07-02 02:43:23,074 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 02:43:23,075 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 02:43:23,075 - __main__ - INFO - Barcode: 1751398982618699
2025-07-02 02:43:23,076 - __main__ - INFO - Debug mode: DISABLED
2025-07-02 02:43:23,076 - __main__ - INFO - Capturing exit images...
2025-07-02 02:43:23,077 - database_service - INFO - Processing vehicle exit for: 1751398982618699
2025-07-02 02:43:23,080 - database_service - INFO - Searching for transaction with barcode: 1751398982618699
2025-07-02 02:43:23,107 - database_service - INFO - Performing full database scan (doc_count: 55)
2025-07-02 02:43:23,295 - database_service - INFO - No transaction found for barcode: 1751398982618699
2025-07-02 02:43:23,303 - database_service - WARNING - No transaction found for: 1751398982618699
2025-07-02 02:43:23,304 - __main__ - INFO - \u274c No transaction found in database: No active transaction found for: 1751398982618699
2025-07-02 02:43:23,305 - __main__ - INFO - ACCESS DENIED: No transaction found and debug mode disabled
2025-07-02 02:43:23,305 - __main__ - INFO - Gate NOT opened - access denied
2025-07-02 02:43:23,307 - __main__ - INFO - Auto-capturing exit images for barcode: 1751398982618699
2025-07-02 02:43:23,307 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:43:23,411 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:43:23,412 - __main__ - INFO - \u2705 Auto-capture successful for barcode: 1751398982618699
2025-07-02 02:43:23,412 - __main__ - INFO - Stored combined exit image data
2025-07-02 02:43:23,412 - database_service - INFO - Searching for transaction with barcode: 1751398982618699
2025-07-02 02:43:23,437 - database_service - INFO - Performing full database scan (doc_count: 55)
2025-07-02 02:43:23,592 - database_service - INFO - No transaction found for barcode: 1751398982618699
2025-07-02 02:43:23,593 - __main__ - INFO - Cannot save images - transaction not found for barcode: 1751398982618699
2025-07-02 02:43:23,603 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 02:43:30,239 - __main__ - INFO - Auto-processing barcode: 1751398982618699
2025-07-02 02:43:30,240 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 02:43:30,240 - __main__ - INFO - Raw barcode: '1751398982618699'
2025-07-02 02:43:30,241 - __main__ - INFO - Barcode length: 16
2025-07-02 02:43:30,241 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 02:43:30,242 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 02:43:30,242 - __main__ - INFO - Barcode: 1751398982618699
2025-07-02 02:43:30,242 - __main__ - INFO - Debug mode: DISABLED
2025-07-02 02:43:30,243 - __main__ - INFO - Capturing exit images...
2025-07-02 02:43:30,243 - database_service - INFO - Processing vehicle exit for: 1751398982618699
2025-07-02 02:43:30,246 - database_service - INFO - Searching for transaction with barcode: 1751398982618699
2025-07-02 02:43:30,270 - database_service - INFO - Performing full database scan (doc_count: 55)
2025-07-02 02:43:30,407 - database_service - INFO - No transaction found for barcode: 1751398982618699
2025-07-02 02:43:30,414 - database_service - WARNING - No transaction found for: 1751398982618699
2025-07-02 02:43:30,415 - __main__ - INFO - \u274c No transaction found in database: No active transaction found for: 1751398982618699
2025-07-02 02:43:30,415 - __main__ - INFO - ACCESS DENIED: No transaction found and debug mode disabled
2025-07-02 02:43:30,416 - __main__ - INFO - Gate NOT opened - access denied
2025-07-02 02:43:30,416 - __main__ - INFO - Auto-capturing exit images for barcode: 1751398982618699
2025-07-02 02:43:30,417 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:43:30,478 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:43:30,478 - __main__ - INFO - \u2705 Auto-capture successful for barcode: 1751398982618699
2025-07-02 02:43:30,479 - __main__ - INFO - Stored combined exit image data
2025-07-02 02:43:30,479 - database_service - INFO - Searching for transaction with barcode: 1751398982618699
2025-07-02 02:43:30,506 - database_service - INFO - Performing full database scan (doc_count: 55)
2025-07-02 02:43:30,648 - database_service - INFO - No transaction found for barcode: 1751398982618699
2025-07-02 02:43:30,648 - __main__ - INFO - Cannot save images - transaction not found for barcode: 1751398982618699
2025-07-02 02:43:30,657 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 02:43:55,511 - __main__ - INFO - Auto-processing barcode: 1751398982618699
2025-07-02 02:43:55,512 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 02:43:55,512 - __main__ - INFO - Raw barcode: '1751398982618699'
2025-07-02 02:43:55,512 - __main__ - INFO - Barcode length: 16
2025-07-02 02:43:55,512 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 02:43:55,513 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 02:43:55,513 - __main__ - INFO - Barcode: 1751398982618699
2025-07-02 02:43:55,513 - __main__ - INFO - Debug mode: DISABLED
2025-07-02 02:43:55,514 - __main__ - INFO - Capturing exit images...
2025-07-02 02:43:55,514 - database_service - INFO - Processing vehicle exit for: 1751398982618699
2025-07-02 02:43:55,518 - database_service - INFO - Searching for transaction with barcode: 1751398982618699
2025-07-02 02:43:55,546 - database_service - INFO - Performing full database scan (doc_count: 55)
2025-07-02 02:43:55,689 - database_service - INFO - No transaction found for barcode: 1751398982618699
2025-07-02 02:43:55,697 - database_service - WARNING - No transaction found for: 1751398982618699
2025-07-02 02:43:55,697 - __main__ - INFO - \u274c No transaction found in database: No active transaction found for: 1751398982618699
2025-07-02 02:43:55,697 - __main__ - INFO - ACCESS DENIED: No transaction found and debug mode disabled
2025-07-02 02:43:55,699 - __main__ - INFO - Gate NOT opened - access denied
2025-07-02 02:43:55,700 - __main__ - INFO - Auto-capturing exit images for barcode: 1751398982618699
2025-07-02 02:43:55,700 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:43:55,902 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:43:55,902 - __main__ - INFO - \u2705 Auto-capture successful for barcode: 1751398982618699
2025-07-02 02:43:55,903 - __main__ - INFO - Stored combined exit image data
2025-07-02 02:43:55,903 - database_service - INFO - Searching for transaction with barcode: 1751398982618699
2025-07-02 02:43:55,933 - database_service - INFO - Performing full database scan (doc_count: 55)
2025-07-02 02:43:56,090 - database_service - INFO - No transaction found for barcode: 1751398982618699
2025-07-02 02:43:56,090 - __main__ - INFO - Cannot save images - transaction not found for barcode: 1751398982618699
2025-07-02 02:43:56,101 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 02:44:01,396 - __main__ - INFO - Auto-processing barcode: 1751398982618699
2025-07-02 02:44:01,397 - __main__ - INFO - === BARCODE INPUT RECEIVED ===
2025-07-02 02:44:01,397 - __main__ - INFO - Raw barcode: '1751398982618699'
2025-07-02 02:44:01,399 - __main__ - INFO - Barcode length: 16
2025-07-02 02:44:01,399 - __main__ - INFO - Barcode valid - calling process_vehicle_exit
2025-07-02 02:44:01,400 - __main__ - INFO - === PROCESSING VEHICLE EXIT ===
2025-07-02 02:44:01,400 - __main__ - INFO - Barcode: 1751398982618699
2025-07-02 02:44:01,401 - __main__ - INFO - Debug mode: DISABLED
2025-07-02 02:44:01,401 - __main__ - INFO - Capturing exit images...
2025-07-02 02:44:01,402 - database_service - INFO - Processing vehicle exit for: 1751398982618699
2025-07-02 02:44:01,405 - database_service - INFO - Searching for transaction with barcode: 1751398982618699
2025-07-02 02:44:01,430 - database_service - INFO - Performing full database scan (doc_count: 55)
2025-07-02 02:44:01,569 - database_service - INFO - No transaction found for barcode: 1751398982618699
2025-07-02 02:44:01,578 - database_service - WARNING - No transaction found for: 1751398982618699
2025-07-02 02:44:01,578 - __main__ - INFO - \u274c No transaction found in database: No active transaction found for: 1751398982618699
2025-07-02 02:44:01,578 - __main__ - INFO - ACCESS DENIED: No transaction found and debug mode disabled
2025-07-02 02:44:01,579 - __main__ - INFO - Gate NOT opened - access denied
2025-07-02 02:44:01,579 - __main__ - INFO - Auto-capturing exit images for barcode: 1751398982618699
2025-07-02 02:44:01,579 - camera_service - INFO - Attempting capture from: http://admin:***@192.168.10.70/Snapshot/1/RemoteImageCapture?ImageFormat=2
2025-07-02 02:44:01,637 - camera_service - INFO - Successfully captured image from camera 'exit'
2025-07-02 02:44:01,638 - __main__ - INFO - \u2705 Auto-capture successful for barcode: 1751398982618699
2025-07-02 02:44:01,638 - __main__ - INFO - Stored combined exit image data
2025-07-02 02:44:01,639 - database_service - INFO - Searching for transaction with barcode: 1751398982618699
2025-07-02 02:44:01,660 - database_service - INFO - Performing full database scan (doc_count: 55)
2025-07-02 02:44:01,783 - database_service - INFO - No transaction found for barcode: 1751398982618699
2025-07-02 02:44:01,784 - __main__ - INFO - Cannot save images - transaction not found for barcode: 1751398982618699
2025-07-02 02:44:01,792 - __main__ - INFO - Camera preview updated (640x358)
2025-07-02 03:11:24,439 - __main__ - INFO - Shutting down...
2025-07-02 03:11:24,451 - gate_service - INFO - Gate service cleanup completed
2025-07-02 03:11:24,454 - audio_service - INFO - Audio service cleanup completed
2025-07-02 03:11:24,455 - __main__ - INFO - Camera service shutdown
